.btn-group
  - if project.users.include? current_user
    = link_to(leave_project_path(project.id), :method => :post, :title => 'Stop working on this project?', :class => 'btn btn-default') do
      = project.users.length
      %i.icon-stop
  - elsif project.may_change_status?
    = link_to(join_project_path(project.id), :method => :post, :title => 'Work on this project?', :class=>'btn btn-default') do
      = project.users.length
      %i.icon-play
  -elsif !project.may_change_status? and project.may_revive?
    = link_to(revive_project_path(project, join: "true"), :method => :post, :title => 'Work on this project?', :class=>'btn btn-default', confirm: 'This project is discared. Revive it?') do
      = project.users.length
      %i.icon-play
  - if project.kudos.include? current_user
    = link_to(dislike_project_path(project.id), :method => :post, :title=>'Dislike this project?', :class=> "btn btn-default") do
      = project.kudos.length
      %i.icon-heart
  - else
    =link_to(like_project_path(project.id), :method => :post,:title=>'Like this project', :class=> "btn btn-default") do
      = project.kudos.length
      %i.icon-thumbs-up 
  - if can? :edit, project
    = link_to(edit_project_path(project), :title=>'Edit this project?', :class=> "btn btn-default") do
      &nbsp;
      %i.icon-pencil
    - if project.may_revive?
      =link_to(revive_project_path(project), :method => :post,:title=>'Revive this project', :class=> "btn btn-default") do
        &nbsp;
        %i.icon-bolt
    - if project.may_discard?
      =link_to(discard_project_path(project.id), :method => :post,:title=>'Discard this project', :class=> "btn btn-default") do
        &nbsp;
        %i.icon-bitbucket
  -if can? :destroy, project
    = link_to(project_path(project), :title=>'Delete this project?', :class=> "btn btn-default", :method => :delete, data: { confirm: "Are you sure you want to delete this project? This can't be undone!" }) do
      &nbsp;
      %i.icon-remove