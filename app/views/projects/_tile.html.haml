.panel.panel-info
  .panel-heading
    %h3.panel-title
      = link_to project_path(project) do
        = project.title
  .panel-body
    = truncate(project.description, length: 140)
    .user-list{:style=>"padding-top: 10px;"}
      - if project.users.empty?
        Holy moly! This project has no developer yet and is up for
        = link_to 'grabs!', join_project_path(project.id)
      - else
        - project.users.each do |user|
          = link_to user_path(user) do
            = image_tag(user.gravatar_url(:size => "48"), :class => "img-thumbnail pull-left", :title => "#{user.name}", :alt => user.name)
  .panel-footer
    .row
      .pull-left{:style=>"padding-left: 5px;"}
        .btn-group
          - if project.users.include? current_user
            = link_to(leave_project_path(project.id), :title => 'Stop working on this project?', :class => 'btn btn-default') do
              = project.users.length
              %i.icon-stop
          - else
            = link_to(join_project_path(project.id), :title => 'Work on this project?', :class=>'btn btn-default') do
              = project.users.length
              %i.icon-play
          - if project.kudos.include? current_user
            = link_to(dislike_project_path(project.id), :title=>'Dislike this project?', :class=> "btn btn-default") do
              = project.kudos.length
              %i.icon-heart
          - else
            =link_to(like_project_path(project.id), :title=>'Like this project', :class=> "btn btn-default") do
              = project.kudos.length
              %i.icon-heart-empty
          - if project.users.include? current_user or current_user === project.originator
            = link_to(edit_project_path(project), :title=>'Edit this project?', :class=> "btn btn-default") do
              &nbsp;
              %i.icon-pencil
      .pull-right
        %p.text-right{:style=>"font-size: 0.8em; padding-right: 5px;"}
          an idea by
          = link_to(user_path(project.originator.id)) do
            #{project.originator.name},
          %br
          updated
          = "#{time_ago_in_words project.updates.last.created_at}"
          ago